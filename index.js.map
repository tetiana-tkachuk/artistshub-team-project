{"version":3,"file":"index.js","sources":["../src/js/artist-modal-helpers.js","../src/js/artist-modal-render.js","../src/js/artist-modal.js","../src/main.js"],"sourcesContent":["/////////\n// These are the helper functions for artist-modal.js file\n/////////\n\nexport function convertMstoMins(ms) {\n    const minutes = Math.floor(ms / 60000);\n    const seconds = Math.floor((ms % 60000) / 1000);\n    return `${minutes}:${seconds.toString().padStart(2, '0')}`;\n  }\n  \n  export function renderActiveYears(data) {\n    if (data.intDiedYear === null) {\n      return `${data.intFormedYear} - present`;\n    }\n    return `${data.intFormedYear} - ${data.intDiedYear}`;\n  }\n  \n  export function renderBiography(data) {\n    return data.strBiographyEN.split('.').slice(0, 2).join('.') + '.';\n  }","/////////\n// These are the render functions for artist-modal.js file\n/////////\n\n\nimport { convertMstoMins, renderActiveYears, renderBiography } from './artist-modal-helpers.js';\n\nexport function renderGenres(data) {\n  return data.genres.map(genre => `\n    <li>\n      <button class=\"artist-short-info-genre-btn\">${genre}</button>\n    </li>`).join('');\n}\n\nexport function renderAlbumsList(data) {\n  const albumsList = data.albumsList;\n\n  return albumsList.map((element) => {\n    const rowMarkup = element.tracks.map((track) => {\n      const link = track.movie === null ? '' : `\n        <a href=\"${track.movie}\" target=\"_blank\" rel=\"noopener noreferrer\">\n          <svg width=\"24\" height=\"24\" fill=\"#ffffff\">\n            <use href=\"../img/sprite.svg#icon-youtube\"></use>\n          </svg>\n        </a>`;\n\n      return `\n        <tr>\n          <td>${track.strTrack}</td>\n          <td>${convertMstoMins(track.intDuration)}</td>\n          <td>${link}</td>\n        </tr>`;\n    }).join('');\n\n    return `\n      <div class=\"artist-song-table\">\n        <h3 class=\"artist-table-header\">${element.strAlbum}</h3>\n        <table>\n          <colgroup>\n            <col style=\"width: 97px\">\n            <col style=\"width: 74px\">\n            <col style=\"width: 24px\">\n          </colgroup>\n          <thead>\n            <tr><th>Track</th><th>Time</th><th>Link</th></tr>\n          </thead>\n          <tbody>${rowMarkup}</tbody>\n        </table>\n      </div>`;\n  }).join('');\n}\n\nexport function renderArtistInfo(data, modalClass) {\n  const activeYears = renderActiveYears(data);\n  const bio = renderBiography(data);\n  const genresInfo = renderGenres(data);\n  const renderedTables = renderAlbumsList(data);\n\n  modalClass.insertAdjacentHTML('beforeend', `\n    <div class=\"artist-info-wrapper\">\n      <h1 class=\"artist-name-title\">${data.strArtist}</h1>\n      <div class=\"artist-info\">\n        <img class=\"artist-img\" src=\"${data.strArtistThumb}\" alt=\"${data.strArtist} artist photo\">\n        <div class=\"artist-short-info\">\n          <div class=\"artist-short-info-grid-wrapper\">\n            <div class=\"artist-short-info-years\">\n              <h3 class=\"short-info-small-header\">Years active</h3>\n              <p class=\"short-info-small-text\">${activeYears}</p>\n            </div>\n            <div class=\"artist-short-info-sex\">\n              <h3 class=\"short-info-small-header\">Sex</h3>\n              <p class=\"short-info-small-text\">${data.strGender}</p>\n            </div>\n            <div class=\"artist-short-info-members\">\n              <h3 class=\"short-info-small-header\">Members</h3>\n              <p class=\"short-info-small-text\">${data.intMembers}</p>\n            </div>\n            <div class=\"artist-short-info-country\">\n              <h3 class=\"short-info-small-header\">Country</h3>\n              <p class=\"short-info-small-text\">${data.strCountry}</p>\n            </div>\n          </div>\n          <div class=\"artist-bio\">\n            <h3 class=\"short-info-small-header\">Biography</h3>\n            <p class=\"short-info-small-text\">${bio}</p>\n          </div>\n          <div class=\"more-bio\">\n            <button class=\"more-bio-btn\">+</button>\n          </div>\n          <div class=\"artist-short-info-genres\">\n            <ul class=\"artist-short-info-genres-list\">${genresInfo}</ul>\n          </div>\n        </div>\n      </div>\n      <div class=\"artist-albums-wrapper\">\n        <h2 class=\"artist-albums-header\">Albums</h2>\n        ${renderedTables}\n      </div>\n      <div class=\"modal-bio\">\n        <button class=\"artists-modal-bio-close-btn\">\n          <svg class=\"artists-modal-bio-close-icon\" width=\"14\" height=\"14\">\n            <use href=\"../img/sprite.svg#icon-close\"></use>\n          </svg>\n        </button>\n        <p class=\"modal-bio-text\">${data.strBiographyEN}</p>\n      </div>\n    </div>`);\n}","//////\n//This is the main artist-modal.js function\n//////\n\nimport axios from 'axios';\nimport { renderArtistInfo } from './artist-modal-render.js';\n\nconst TEMP_ID = '65ada227af9f6d155db46908';\nconst openModalBtn = document.querySelector('.tmp-open-btn');\nconst modalOverlay = document.querySelector('.modal-overlay');\nconst modalWindowCloseBtn = document.querySelector('.artists-modal-close-btn');\nconst modalClass = document.querySelector('.modal');\n\nexport async function handleOpenModal() {\n  modalOverlay.classList.add('is-open');\n  document.body.style.overflow = 'hidden';\n\n  const existing = document.querySelector('.artist-info-wrapper');\n  if (existing) existing.remove();\n\n  try {\n    const { data } = await axios.get(\n      `https://sound-wave.b.goit.study/api/artists/${TEMP_ID}/albums`\n    );\n    renderArtistInfo(data, modalClass);\n    handleModalBio();\n  } catch (error) {\n    console.error('Request failed:', error);\n  }\n}\n\nfunction handleModalClose() {\n  modalOverlay.classList.remove('is-open');\n  document.body.style.overflow = '';\n  document.querySelector('.artist-info-wrapper')?.remove();\n}\n\nfunction handleModalBio() {\n  const moreBioBtn = document.querySelector('.more-bio-btn');\n  const moreBioClass = document.querySelector('.modal-bio');\n  const closeBioBtn = document.querySelector('.artists-modal-bio-close-btn');\n\n  moreBioBtn.addEventListener('click', () => moreBioClass.classList.add('is-open'));\n  closeBioBtn.addEventListener('click', () => moreBioClass.classList.remove('is-open'));\n}\n\nopenModalBtn.addEventListener('click', handleOpenModal);\nmodalWindowCloseBtn.addEventListener('click', handleModalClose);\nmodalOverlay.addEventListener('click', (e) => {\n    if (e.target === modalOverlay) {\n      handleModalClose();\n    }\n  });\n\ndocument.addEventListener('keydown', (e) => {\n    if (e.key === 'Escape') {\n      handleModalClose();\n    }\n  });\n\n\n\n","import './js/artist-modal.js'\n\nhandleOpenModal();"],"names":["convertMstoMins","ms","minutes","seconds","renderActiveYears","data","renderBiography","renderGenres","genre","renderAlbumsList","element","rowMarkup","track","link","renderArtistInfo","modalClass","activeYears","bio","genresInfo","renderedTables","TEMP_ID","openModalBtn","modalOverlay","modalWindowCloseBtn","handleOpenModal","existing","axios","handleModalBio","error","handleModalClose","_a","moreBioBtn","moreBioClass","closeBioBtn","e"],"mappings":"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"}