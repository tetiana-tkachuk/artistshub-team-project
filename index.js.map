{"version":3,"file":"index.js","sources":["../src/js/constant.js","../src/js/api.js","../src/js/refs.js","../src/js/render-function.js","../src/js/feedback.js"],"sourcesContent":["export const FEEDBACKS_PER_PAGE = 10;\nexport const ARTISTS_PER_PAGE = 8;\n\nexport const BASE_URL = 'https://sound-wave.b.goit.study/api';\n\nexport const API_ENDPOINTS = {\n  GENRES: '/genres',\n  ARTISTS: '/artists',\n  ARTIST_BY_ID: '/artists/',\n  FEEDBACKS: '/feedbacks',\n};\n\n","import axios from 'axios';\n\nimport { BASE_URL, API_ENDPOINTS, FEEDBACKS_PER_PAGE, ARTISTS_PER_PAGE } from './constant';\n\naxios.defaults.baseURL = BASE_URL;\n\nexport async function getFeedbacks() {\n  const { data } = await axios.get(`${API_ENDPOINTS.FEEDBACKS}?limit=${FEEDBACKS_PER_PAGE}&page=1`);\n  return data;\n}\n\nexport async function getArtists(currentPage) {\n  const {data} = await axios.get(`${API_ENDPOINTS.ARTISTS}?limit=${ARTISTS_PER_PAGE}&page=${currentPage}`);\n  return data;\n}\n\nexport async function getArtistsById(artistId) {\n  const {data} = await axios.get(`${API_ENDPOINTS.ARTIST_BY_ID}${artistId}`);\n  return data;\n}","export default {\n    feedbacksList: document.querySelector('.swiper-wrapper'),\n    // artistsList: document.querySelector('.'),\n};","import refs from './refs';\n\nexport function renderFeedbacks(feedbacks) {\n  const feedbacksMarkup = feedbacks\n    .map( ({_id, name, rating, descr}) => {\n        return `\n        <div class=\"swiper-slide\">\n          <div class=\"feedback-block\">\n            <div data-raty class=\"feedback-rating\" data-id=${_id} data-score=${rating}></div>\n            <p class=\"feedback-descr\">${descr}</p>\n            <p class=\"feedback-name\">${name}</p>\n          </div>\n        </div>`\n    })\n    .join('');\n  \n  refs.feedbacksList.insertAdjacentHTML('beforeend', feedbacksMarkup);\n}\n","// Імпорт функції - отримання відгуків з БД\nimport { getFeedbacks } from './api';\n\n// Імпорт функціі - створення розмітки для відгуків\nimport {renderFeedbacks} from './render-function';\n\n// Імпорт бібліотеки створення зірочок\nimport Raty from \"raty-js\";\nimport 'raty-js/src/raty.css';\n\n// Імпорт бібліотеки Swiper with all modules installed (bundle)\nimport Swiper from 'swiper/bundle';\n// import styles bundle\nimport 'swiper/css/bundle';\n\nasync function init() {\n  const feedbacksObject = await getFeedbacks();\n  const feedbacksArray = feedbacksObject.data;\n\n  renderFeedbacks(feedbacksArray);\n}\n\ninit();\n\n// Створення основної розмітки відгуків\nrenderFeedbacks(feedbacksArray);\n\n\n// Створення зірочок\n// =============================================================\n// Опції для бібліотеки створення зірочок\nconst ratyOption = {\n  starOn: './img/feedback-img/star-on.png',\n  starOff: './img/feedback-img/star-off.png',\n  space: false,\n  readOnly: true,\n  halfShow: false,\n  // score:3.59,\n}\n\n// Всі DOM-елементи\nconst feedbacksAll = Array.from(document.querySelectorAll('[data-raty]'));\n\n// Перебираємо масив елементів фідбеків\nfeedbacksAll.map(feedback => {\n  // Отримуємо з data-атрибута елемента числове значення рейтингу\n  const feedbackScore = Number(feedback.dataset.score);\n  // Створення для кожного відгуку піделементу - зірочки\n  const raty = new Raty(feedback, {...ratyOption, score:feedbackScore} );\n  // Ініціалізація зірочки для кожного елементу\n  raty.init();\n});\n// =============================================================\n\n\n// Створення Слайдеру відгуків\n// =============================================================\n// init Swiper:\nconst swiper = new Swiper('.swiper', {\n  // Optional parameters :\n  // Орієнтація\n  direction: 'horizontal',\n  // Прокрутка слайдів по кругу\n  loop: false,\n\n  // Navigation arrows\n  navigation: {\n    nextEl: '.swiper-button-next',\n    prevEl: '.swiper-button-prev',\n  },\n\n  // If we need pagination\n  pagination: {\n    el: '.swiper-pagination',\n  },\n\n  // And if we need scrollbar\n  scrollbar: {\n    el: '.swiper-scrollbar',\n  },\n});\n// =============================================================\n"],"names":["FEEDBACKS_PER_PAGE","BASE_URL","API_ENDPOINTS","axios","getFeedbacks","data","refs","renderFeedbacks","feedbacks","feedbacksMarkup","_id","name","rating","descr","init","feedbacksArray","ratyOption","feedbacksAll","feedback","feedbackScore","Raty","Swiper"],"mappings":"owBAAO,MAAMA,EAAqB,GAGrBC,EAAW,sCAEXC,EAAgB,CAC3B,OAAQ,UACR,QAAS,WACT,aAAc,YACd,UAAW,YACb,ECNAC,EAAM,SAAS,QAAUF,EAElB,eAAeG,GAAe,CACnC,KAAM,CAAE,KAAAC,CAAI,EAAK,MAAMF,EAAM,IAAI,GAAGD,EAAc,SAAS,UAAUF,CAAkB,SAAS,EAChG,OAAOK,CACT,CCTA,MAAeC,EAAA,CACX,cAAe,SAAS,cAAc,iBAAiB,CAE3D,ECDO,SAASC,EAAgBC,EAAW,CACzC,MAAMC,EAAkBD,EACrB,IAAK,CAAC,CAAC,IAAAE,EAAK,KAAAC,EAAM,OAAAC,EAAQ,MAAAC,CAAK,IACrB;AAAA;AAAA;AAAA,6DAG8CH,CAAG,eAAeE,CAAM;AAAA,wCAC7CC,CAAK;AAAA,uCACNF,CAAI;AAAA;AAAA,eAGtC,EACA,KAAK,EAAE,EAEVL,EAAK,cAAc,mBAAmB,YAAaG,CAAe,CACpE,CCFA,eAAeK,GAAO,CAEpB,MAAMC,GADkB,MAAMX,KACS,KAEvCG,EAAgBQ,CAAc,CAChC,CAEAD,IAGAP,EAAgB,cAAc,EAM9B,MAAMS,EAAa,CACjB,OAAQ,iCACR,QAAS,kCACT,MAAO,GACP,SAAU,GACV,SAAU,EAEZ,EAGMC,EAAe,MAAM,KAAK,SAAS,iBAAiB,aAAa,CAAC,EAGxEA,EAAa,IAAIC,GAAY,CAE3B,MAAMC,EAAgB,OAAOD,EAAS,QAAQ,KAAK,EAEtC,IAAIE,EAAKF,EAAU,CAAC,GAAGF,EAAY,MAAMG,CAAa,GAE9D,KAAI,CACX,CAAC,EAOc,IAAIE,EAAO,UAAW,CAGnC,UAAW,aAEX,KAAM,GAGN,WAAY,CACV,OAAQ,sBACR,OAAQ,qBACT,EAGD,WAAY,CACV,GAAI,oBACL,EAGD,UAAW,CACT,GAAI,mBACL,CACH,CAAC"}